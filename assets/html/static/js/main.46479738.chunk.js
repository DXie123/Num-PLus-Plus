(this["webpackJsonpmathlive-box"]=this["webpackJsonpmathlive-box"]||[]).push([[0],{28:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var o,r,i,c,a,s=n(2),l=n(0),u=n.n(l),f=n(14),p=n.n(f),d=(n(28),n(16)),x=n(3),b=n(4),j=n(7),h=(n(29),n(1)),v=n(8),O=n.n(v),g=n(31);!function(t){t[t.Eval=0]="Eval",t[t.Var=1]="Var",t[t.Defint=2]="Defint",t[t.Limit=3]="Limit",t[t.Matrix=4]="Matrix"}(a||(a={}));var y=new(o=function(){function t(){Object(x.a)(this,t),Object(d.a)(this,"latex",r,this),Object(d.a)(this,"expression",i,this),Object(d.a)(this,"update",c,this)}return Object(b.a)(t,[{key:"eval",get:function(){try{var t;return null===(t=this.expression)||void 0===t?void 0:t.evaluate().text()}catch(e){return}}},{key:"text",get:function(){try{var t,e=null===(t=this.expression)||void 0===t?void 0:t.toTeX();return C.forEach((function(t,n){var o;return e=null===(o=e)||void 0===o?void 0:o.replace(n,t)})),e}catch(n){return}}},{key:"mode",get:function(){console.log(this.latex);try{return this.latex.search("int")>=0?a.Defint:this.latex.search("limit")>=0?a.Limit:this.latex.search("matrix")>=0?a.Matrix:this.latex.search("x")>=0?a.Var:a.Eval}catch(t){return a.Eval}}},{key:"solve",get:function(){try{var t;return null===(t=this.expression)||void 0===t?void 0:t.solveFor("x").toTeX()}catch(e){return}}},{key:"integrate",get:function(){if(void 0!==this.expression)try{return O.a.integrate(this.expression,"x").toTeX()}catch(t){return}}},{key:"diff",get:function(){if(void 0!==this.expression)try{return O.a.diff(this.expression,"x").toTeX()}catch(t){return}}}]),t}(),r=Object(j.a)(o.prototype,"latex",[h.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=Object(j.a)(o.prototype,"expression",[h.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),c=Object(j.a)(o.prototype,"update",[h.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){if(t.latex=e,0!==t.latex.length){w.forEach((function(t,n){return e=e.replace(n,t)})),console.log(t.latex);try{t.expression=g.convertFromLaTeX(e)}catch(n){t.expression=void 0}}else t.expression=void 0}}}),Object(j.a)(o.prototype,"eval",[h.d],Object.getOwnPropertyDescriptor(o.prototype,"eval"),o.prototype),Object(j.a)(o.prototype,"text",[h.d],Object.getOwnPropertyDescriptor(o.prototype,"text"),o.prototype),Object(j.a)(o.prototype,"mode",[h.d],Object.getOwnPropertyDescriptor(o.prototype,"mode"),o.prototype),Object(j.a)(o.prototype,"solve",[h.d],Object.getOwnPropertyDescriptor(o.prototype,"solve"),o.prototype),Object(j.a)(o.prototype,"integrate",[h.d],Object.getOwnPropertyDescriptor(o.prototype,"integrate"),o.prototype),Object(j.a)(o.prototype,"diff",[h.d],Object.getOwnPropertyDescriptor(o.prototype,"diff"),o.prototype),o),m=u.a.createContext(y),w=new Map([[RegExp(/\s+/g),""],[RegExp("\\\\times","g"),"*"],[RegExp("\\\\div","g"),"/"],[RegExp("\\\\arcsin","g"),"\\asin"],[RegExp("\\\\sqrt\\[\\]","g"),"\\sqrt"]]),C=new Map([[RegExp("\\\\cdot","g"),"\\times"]]);Object(h.c)((function(){window.variable.postMessage(y.mode.valueOf().toString())}));var D=function t(){var e=this;Object(x.a)(this,t),this.mfController=void 0,this.setController=function(t){e.mfController=t,e.focus()},this.add=function(t){return e.mfController.insert(t,{focus:!0,format:"latex"})},this.backspace=function(){e.mfController.executeCommand("deletePreviousChar"),e.focus()},this.clear=function(){e.mfController.executeCommand("deleteAll"),e.focus()},this.focus=function(){e.mfController&&e.mfController.focus&&e.mfController.focus()}},E=n(15);function k(){var t=Object(l.useContext)(m),e=new D;return Object(s.jsx)(E.a,{virtualKeyboardMode:"off",onContentDidChange:function(e){return t.update(e.getValue("latex-expanded"))},style:{outline:0,fontSize:"2em"},ref:function(t){t&&(e.setController(t),window.add=e.add,window.backspace=e.backspace,window.clear=e.clear)}})}var P,M=n(5),I=n(17),L=Object(I.a)((function(){switch(Object(l.useContext)(m).mode){case a.Eval:return Object(s.jsx)(S,{});case a.Var:return Object(s.jsx)(T,{});default:return Object(s.jsx)(S,{})}})),S=Object(I.a)((function(){var t=Object(l.useContext)(m),e=t.eval,n=t.text;return void 0===e?Object(s.jsx)("div",{}):e===n?Object(s.jsx)(F,{content:"=".concat(e)}):Object(s.jsxs)("div",{children:[Object(s.jsx)(F,{content:"=".concat(t.eval)}),Object(s.jsx)(F,{content:"=".concat(t.text)})]})}));!function(t){t[t.Int=0]="Int",t[t.Diff=1]="Diff",t[t.Simplify=2]="Simplify",t[t.Plot=3]="Plot"}(P||(P={}));var T=Object(I.a)((function(){var t=Object(l.useContext)(m),e=Object(l.useState)(),n=Object(M.a)(e,2),o=n[0],r=n[1];return Object(l.useEffect)((function(){window.doIntegrate=function(){r(P.Int)},window.doDiff=function(){r(P.Diff)}}),[]),o===P.Int?Object(s.jsx)(F,{content:"=".concat(t.integrate)}):o===P.Diff?Object(s.jsx)(F,{content:"=".concat(t.diff)}):Object(s.jsx)("div",{})}));function F(t){return Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)(E.a,{value:t.content,readOnly:!0,style:{outline:0}}),Object(s.jsx)("button",{hidden:t.hideAdd,style:{height:"50%",marginLeft:"20pt"},onClick:function(){window.add(t.content.substr(1))},children:"+"})]})}var R=L;function V(){return Object(s.jsxs)(m.Provider,{value:y,children:[Object(s.jsx)(k,{}),Object(s.jsx)(R,{})]})}var X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),o(t),r(t),i(t),c(t)}))};p.a.render(Object(s.jsx)(u.a.StrictMode,{children:Object(s.jsx)(V,{})}),document.getElementById("root")),X()}},[[37,1,2]]]);
//# sourceMappingURL=main.46479738.chunk.js.map