(this["webpackJsonpmathlive-box"]=this["webpackJsonpmathlive-box"]||[]).push([[0],{28:function(t,e,r){},37:function(t,e,r){"use strict";r.r(e);var n,o,c,i,a=r(2),s=r(0),u=r.n(s),f=r(14),l=r.n(f),p=(r(28),r(18)),b=r(3),j=r(4),x=r(8),d=(r(29),r(1)),O=r(7),h=r.n(O),y=r(31);!function(t){t[t.Eval=0]="Eval",t[t.Var=1]="Var",t[t.Defint=2]="Defint",t[t.Limit=3]="Limit",t[t.Matrix=4]="Matrix"}(i||(i={}));var v=new(n=function(){function t(){Object(b.a)(this,t),this.latex="",Object(p.a)(this,"expression",o,this),Object(p.a)(this,"update",c,this)}return Object(j.a)(t,[{key:"eval",get:function(){try{return this.expression.evaluate().text()}catch(t){return"error"}}},{key:"text",get:function(){try{var t=this.expression.toTeX();return w.forEach((function(e,r){return t=t.replace(new RegExp(r,"g"),e)})),t}catch(e){return"error"}}},{key:"mode",get:function(){try{return this.latex.search("int")>0?i.Defint:this.latex.search("limit")>0?i.Limit:this.latex.search("matrix")>0?i.Matrix:0!==this.expression.variables().length?i.Var:i.Eval}catch(t){return i.Eval}}},{key:"solve",get:function(){try{return this.expression.solveFor("x").toString()}catch(t){return"error"}}},{key:"integrate",get:function(){try{return h.a.integrate(this.expression,"x").evaluate().text("fractions")}catch(t){return"error"}}},{key:"diff",get:function(){try{return h.a.diff(this.expression,"x").evaluate().text("fractions")}catch(t){return"error"}}}]),t}(),o=Object(x.a)(n.prototype,"expression",[d.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(x.a)(n.prototype,"update",[d.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.latex=e,m.forEach((function(t,r){return e=e.replace(new RegExp(r,"g"),t)}));try{t.expression=y.convertFromLaTeX(e)}catch(r){t.expression=h()("")}}}}),Object(x.a)(n.prototype,"eval",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"eval"),n.prototype),Object(x.a)(n.prototype,"text",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"text"),n.prototype),Object(x.a)(n.prototype,"mode",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"mode"),n.prototype),Object(x.a)(n.prototype,"solve",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"solve"),n.prototype),Object(x.a)(n.prototype,"integrate",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"integrate"),n.prototype),Object(x.a)(n.prototype,"diff",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"diff"),n.prototype),n),g=u.a.createContext(v),m=new Map([["\\\\times","*"]]),w=new Map([["\\\\cdot","\\times"]]);Object(d.c)((function(){window.variable.postMessage(v.mode.valueOf().toString())}));var C=function t(){var e=this;Object(b.a)(this,t),this.mfController=void 0,this.setController=function(t){e.mfController=t,e.focus()},this.add=function(t){return e.mfController.insert(t,{focus:!0,format:"latex"})},this.backspace=function(){e.mfController.executeCommand("deletePreviousChar"),e.focus()},this.clear=function(){e.mfController.executeCommand("deleteAll"),e.focus()},this.focus=function(){e.mfController&&e.mfController.focus&&e.mfController.focus()}},D=r(15);function P(){var t=Object(s.useContext)(g),e=new C;return Object(a.jsx)(D.a,{virtualKeyboardMode:"off",onContentDidChange:function(e){return t.update(e.getValue("latex-expanded"))},style:{outline:0,fontSize:"2em"},ref:function(t){t&&(e.setController(t),window.add=e.add,window.backspace=e.backspace,window.clear=e.clear)}})}var k,E=r(5),S=r(16),M=Object(S.a)((function(){switch(Object(s.useContext)(g).mode){case i.Eval:return Object(a.jsx)(I,{});case i.Var:return Object(a.jsx)(F,{});default:return Object(a.jsx)(I,{})}})),I=Object(S.a)((function(){var t=Object(s.useContext)(g),e=t.eval;return e===t.text?Object(a.jsx)(L,{content:"=".concat(e)}):Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{content:"=".concat(t.eval)}),Object(a.jsx)(L,{content:"=".concat(t.text)})]})}));!function(t){t[t.Int=0]="Int",t[t.Diff=1]="Diff",t[t.Simplify=2]="Simplify",t[t.Plot=3]="Plot"}(k||(k={}));var F=Object(S.a)((function(){var t=Object(s.useContext)(g),e=Object(s.useState)(),r=Object(E.a)(e,2),n=r[0],o=r[1];return Object(s.useEffect)((function(){window.doIntegrate=function(){o(k.Int)},window.doDiff=function(){o(k.Diff)}}),[]),n===k.Int?Object(a.jsx)(L,{content:"=".concat(t.integrate)}):n===k.Diff?Object(a.jsx)(L,{content:"=".concat(t.diff)}):Object(a.jsx)("div",{})}));function L(t){return Object(a.jsx)(D.a,{value:t.content,readOnly:!0,style:{outline:0,fontSize:"1.2em"}})}var V=M;function z(){return Object(a.jsxs)(g.Provider,{value:v,children:[Object(a.jsx)(P,{}),Object(a.jsx)(V,{})]})}var T=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,38)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;r(t),n(t),o(t),c(t),i(t)}))};l.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),T()}},[[37,1,2]]]);
//# sourceMappingURL=main.018660b9.chunk.js.map