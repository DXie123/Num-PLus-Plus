(this["webpackJsonpmathlive-box"]=this["webpackJsonpmathlive-box"]||[]).push([[0],{28:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var r,o,c,i,a=n(2),s=n(0),u=n.n(s),l=n(14),f=n.n(l),p=(n(28),n(18)),b=n(3),d=n(4),j=n(8),x=(n(29),n(1)),O=n(7),h=n.n(O),y=n(31);!function(t){t[t.Eval=0]="Eval",t[t.Var=1]="Var",t[t.Defint=2]="Defint",t[t.Limit=3]="Limit",t[t.Matrix=4]="Matrix"}(i||(i={}));var v=new(r=function(){function t(){Object(b.a)(this,t),this.latex="",Object(p.a)(this,"expression",o,this),Object(p.a)(this,"update",c,this)}return Object(d.a)(t,[{key:"eval",get:function(){try{return this.expression.evaluate().text()}catch(t){return"error"}}},{key:"text",get:function(){try{var t=this.expression.toTeX();return w.forEach((function(e,n){return t=t.replace(new RegExp(n,"g"),e)})),t}catch(e){return"error"}}},{key:"mode",get:function(){try{return this.latex.search("int")>0?i.Defint:this.latex.search("limit")>0?i.Limit:this.latex.search("matrix")>0?i.Matrix:0!==this.expression.variables().length?i.Var:i.Eval}catch(t){return i.Eval}}},{key:"solve",get:function(){try{return this.expression.solveFor("x").toString()}catch(t){return"error"}}},{key:"integrate",get:function(){try{return h.a.integrate(this.expression,"x").evaluate().text("fractions")}catch(t){return"error"}}},{key:"diff",get:function(){try{return h.a.diff(this.expression,"x").evaluate().text("fractions")}catch(t){return"error"}}}]),t}(),o=Object(j.a)(r.prototype,"expression",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(j.a)(r.prototype,"update",[x.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.latex=e,m.forEach((function(t,n){return e=e.replace(new RegExp(n,"g"),t)}));try{t.expression=y.convertFromLaTeX(e)}catch(n){t.expression=h()("")}}}}),Object(j.a)(r.prototype,"eval",[x.d],Object.getOwnPropertyDescriptor(r.prototype,"eval"),r.prototype),Object(j.a)(r.prototype,"text",[x.d],Object.getOwnPropertyDescriptor(r.prototype,"text"),r.prototype),Object(j.a)(r.prototype,"mode",[x.d],Object.getOwnPropertyDescriptor(r.prototype,"mode"),r.prototype),Object(j.a)(r.prototype,"solve",[x.d],Object.getOwnPropertyDescriptor(r.prototype,"solve"),r.prototype),Object(j.a)(r.prototype,"integrate",[x.d],Object.getOwnPropertyDescriptor(r.prototype,"integrate"),r.prototype),Object(j.a)(r.prototype,"diff",[x.d],Object.getOwnPropertyDescriptor(r.prototype,"diff"),r.prototype),r),g=u.a.createContext(v),m=new Map([["\\\\times","*"]]),w=new Map([["\\\\cdot","\\times"]]);Object(x.c)((function(){window.variable.postMessage(v.mode.valueOf().toString())}));var C=function t(){var e=this;Object(b.a)(this,t),this.mfController=void 0,this.setController=function(t){e.mfController=t,e.focus()},this.add=function(t){return e.mfController.insert(t,{focus:!0,format:"latex"})},this.backspace=function(){e.mfController.executeCommand("deletePreviousChar"),e.focus()},this.clear=function(){e.mfController.executeCommand("deleteAll"),e.focus()},this.focus=function(){e.mfController&&e.mfController.focus&&e.mfController.focus()}},D=n(15);function k(){var t=Object(s.useContext)(g),e=new C;return Object(a.jsx)(D.a,{virtualKeyboardMode:"off",onContentDidChange:function(e){return t.update(e.getValue("latex-expanded"))},style:{outline:0,fontSize:"2em"},ref:function(t){t&&(e.setController(t),window.add=e.add,window.backspace=e.backspace,window.clear=e.clear)}})}var P,E=n(5),M=n(16),S=Object(M.a)((function(){switch(Object(s.useContext)(g).mode){case i.Eval:return Object(a.jsx)(I,{});case i.Var:return Object(a.jsx)(L,{});default:return Object(a.jsx)(I,{})}})),I=Object(M.a)((function(){var t=Object(s.useContext)(g),e=t.eval;return e===t.text?Object(a.jsx)(F,{content:"=".concat(e)}):Object(a.jsxs)("div",{children:[Object(a.jsx)(F,{content:"=".concat(t.eval)}),Object(a.jsx)(F,{content:"=".concat(t.text)})]})}));!function(t){t[t.Int=0]="Int",t[t.Diff=1]="Diff",t[t.Simplify=2]="Simplify",t[t.Plot=3]="Plot"}(P||(P={}));var L=Object(M.a)((function(){var t=Object(s.useContext)(g),e=Object(s.useState)(),n=Object(E.a)(e,2),r=n[0],o=n[1];return Object(s.useEffect)((function(){window.doIntegrate=function(){o(P.Int)},window.doDiff=function(){o(P.Diff)}}),[]),r===P.Int?Object(a.jsx)(F,{content:"=".concat(t.integrate)}):r===P.Diff?Object(a.jsx)(F,{content:"=".concat(t.diff)}):Object(a.jsx)("div",{})}));function F(t){return Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(D.a,{value:t.content,readOnly:!0,style:{outline:0}}),Object(a.jsx)("button",{hidden:t.hideAdd,style:{height:"50%",marginLeft:"20pt"},onClick:function(){window.add(t.content.substr(1))},children:"+"})]})}var V=S;function T(){return Object(a.jsxs)(g.Provider,{value:v,children:[Object(a.jsx)(k,{}),Object(a.jsx)(V,{})]})}var z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),o(t),c(t),i(t)}))};f.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),z()}},[[37,1,2]]]);
//# sourceMappingURL=main.5e69fdf8.chunk.js.map